'use strict';

function escapeArgument(arg, quote) {
    arg = '' + arg;

    if (!quote) {
        arg = arg.replace(/([()%!^<>&|;,"'\s])/g, '^$1');
    } else {
        arg = arg.replace(/(\\*)"/g, '$1$1\\"');

        arg = arg.replace(/(\\*)$/, '$1$1');


        arg = '"' + arg + '"';
    }

    return arg;
}

module.exports = escapeArgument;
